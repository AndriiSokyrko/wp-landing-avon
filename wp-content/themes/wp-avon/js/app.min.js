// !!! app

function jivo_onClose() {
    jQuery(".chat-label").show()
}
function jivo_onOpen() {
    jQuery(".chat-label").hide()
}
function jivo_onLoadCallback() {
    jQuery(".chat-label").removeClass("hidden-xs-up"), jQuery("#contactModal .modal-body").append('<div class="d-block"><a class="c-more" href="#chat" rel="nofollow">Отправить сообщение с сайта</a></div>'), jQuery('a[href="#chat"]').on("click", function () {
        return jQuery(".modal").modal("hide"), jivo_api.open(), !1
    }), jQuery("#contactModal").addClass("modal-vc")
}
function secure_submit(a) {
    function d(b) {
        return !!/[a-z]+/.test(b) && (el = a.closest(".form-holder").find("." + b), !!el.length && el)
    }

    function e(a, b) {
        !(!a || !b) && a.hide().promise().done(b.fadeIn())
    }

    function f(b) {
        e(d("sending"), d(d(b) ? b : "failure")), "success" === b && (a.find("#credit").is(":checked") ? d(b).addClass("s-credit") : "", a.find("input").each(function () {
            jQuery(this).val("")
        }), a.closest(".home-reg-form").find(".nav-link").each(function () {
            jQuery(this).attr("href", "#")
        }))
    }

    var b = a.attr("id"), c = !1;
    if (a.find("input").each(function () {
            if (!jQuery(this).val() && jQuery(this).prop("required"))return c = !0, jQuery.jGrowl("Не все обязательные поля формы заполнены."), a.find(":input[type=submit]").prop("disabled", !1), !1
        }), !c)return e(a, d("sending")), jQuery.ajax({
        url: "/plugins/submit_form.php?form=" + b,
        type: "post",
        data: a.serialize(),
        success: f
    }), !1
}
function docRate(a) {
    jQuery.ajax({
        url: "/plugins/add_rating.php",
        data: "this=" + docType + "&is=" + docUid + "&val=" + a,
        type: "POST",
        success: function (a) {
            jQuery(".live-rating > .ct-icon").text(a)
        }
    }), jQuery(".live-rating > .ct-content").text(1 * jQuery(".live-rating > .ct-content").text() + 1)
}
var point_to = function (a) {
    var b = a ? a : "names", c = jQuery('.home-reg-form .tab-content .active .input-group input[name="' + b + '"]'), d = c.parent();
    return a || (c.focus(), d.find("span > i").css("opacity", "0"), setTimeout(function () {
        d.find("span > i").animate({opacity: 1}, 200)
    }, 300)), d.hasClass("sizer") && (d.find("span").addClass("sized-span"), d.find("span > span").addClass("hidden-xs-up"), d.find("span > i").removeClass("hidden-xs-up")), !1
};
if (jQuery(".home").length) {
    jQuery(".sizer input").click(function () {
        point_to(jQuery(this).attr("name"))
    }), jQuery('a[hrefjQuery="#form"]').click(function () {
        point_to()
    }), "#form" != self.document.location.hash && "#quick-form" != self.document.location.hash || (jQuery(self.document.location.hash + "-tab").trigger("click"), point_to()), jQuery(window).on("load resize", function () {
        jQuery(".card-catalog .card").css("min-height", jQuery(".home-slider").height() + jQuery(".coupon-links").height() + "px")
    });
    var homeCarousel = jQuery(".carousel-home");
    homeCarousel.prepend("<ol class='carousel-indicators'></ol>");
    var indicators = jQuery(".carousel-indicators");
    homeCarousel.find(".carousel-inner").children(".carousel-item").each(function (a) {
        0 === a ? indicators.append('<li data-target="#' + homeCarousel.attr("id") + '" data-slide-to="' + a + '" class="active"></li>') : indicators.append('<li data-target="#' + homeCarousel.attr("id") + '" data-slide-to="' + a + '">')
    }), homeCarousel.carousel({interval: 7e3})
}
if (jQuery(".brochure .carousel").length) {
    var bcarousel = jQuery(".brochure .carousel");
    bcarousel.carousel({interval: 0, keyboard: !0}), jQuery(window).on("load resize", function () {
        var a = jQuery(".brochure .carousel .active img").not(".n_a");
        jQuery(a).closest(".carousel").css("height", jQuery(a).height() + "px"), zoomit(jQuery(a).closest(".carousel-item").not(".zoom-it").addClass("zoom-it").find("div"))
    });
    var zoomit = function (a) {
        a.zoom({
            on: "click", onZoomIn: function () {
                jQuery(".zoomImg").css({cursor: "url(/img/elements/zoom-out.png), zoom-out"})
            }, onZoomOut: function () {
                jQuery(".zoomImg").css({cursor: "url(/img/elements/zoom-in.png), zoom-in"})
            }, touch: !1
        })
    }, thisis = "c" == jQuery('#go-to-page input[name="type"]').val(), calcpage = function (a) {
        return inputnum2 = a % 2 === 0 ? a / 2 : (1 * a + 1) / 2 - 1, thisis ? inputnum2 : a - 1
    }, positionh = function () {
        var a = location.hash.substr(1);
        !(a !== Math.floor(a).toString() || !jQuery.isNumeric(a)) && bcarousel.carousel(calcpage(a))
    };
    jQuery("#carousel-brochure-generic").on("slide.bs.carousel", function (a) {
        zoomit(jQuery(a.relatedTarget).not(".zoom-it").addClass("zoom-it").find("div"));
        var b = jQuery(a.relatedTarget).index();
        b = 0 === b ? 1 : thisis ? 2 * b : b + 1, jQuery('#go-to-page input[name="number"]').val(b), window.location.hash = b
    }), jQuery("#go-to-page").on("submit", function () {
        return bcarousel.carousel(calcpage(jQuery('#go-to-page input[name="number"]').val())), !1
    }), bcarousel.on("carousel.init", function () {
        positionh()
    }), bcarousel.trigger("carousel.init")
}
jQuery(window).scroll(function () {
    jQuery(this).scrollTop() > 250 ? jQuery(".scroll-to-top").fadeIn(500) : jQuery(".scroll-to-top").fadeOut(500)
}), jQuery(".scroll-to-top, .scroll-top").click(function (a) {
    a.preventDefault(), jQuery("html, body").animate({scrollTop: 0}, 300)
}), jQuery(document).on("click", '[data-toggle="lightbox"]', function (a) {
    a.preventDefault(), jQuery(this).ekkoLightbox()
});
var bookmk = "Нажмите " + (/Mac/i.test(navigator.userAgent) ? "Cmd" : "Ctrl") + " + D на клавиатуре, чтобы добавить страницу в закладки.";
jQuery(".bookmark-this").on("click", function () {
    return alert(bookmk), !1
}), jQuery(".bookmark-popover").attr("data-content", bookmk), jQuery(".cake-promo").popover({template: '<div class="popover cake-promo-popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-title pink"></h3><div class="popover-content"></div></div>'}), jQuery('[data-toggle="popover"]').popover(), jQuery('[data-toggle="tooltip"]').tooltip(), jQuery('a[href="#choose-channel"]').on("click", function () {
    return jQuery("#contactModal").modal("show"), !1
}), jQuery(".modal").on("show.bs.modal", function () {
    jQuery(".true-fixed").each(function () {
        jQuery(this).css("left", jQuery(this).css("left"))
    })
}), jQuery(".modal").on("shown.bs.modal", function () {
    jQuery(this).find(".m-fixed").css("height", jQuery(this).find(".m-fixed").height())
}), jQuery(".modal").on("hidden.bs.modal", function () {
    jQuery(".true-fixed").removeAttr("style")
}), jQuery('a[href="#order"]').on("click", function () {
    return jQuery("#orderModal").modal("show"), !1
});
var buzzsound = new buzz.sound("/content/media/notice/graceful", {formats: ["ogg", "mp3"]});
jQuery.jGrowl.defaults.position = "bottom-left", jQuery.jGrowl.defaults.closer = !1, jQuery.jGrowl.defaults.beforeOpen = function () {
    buzzsound.play()
}, jQuery(".c-h").css("min-height", jQuery(window).outerHeight() - jQuery(".navbar-static-top").outerHeight(!0) - jQuery(".user-action").outerHeight(!0) - jQuery("footer.footer").outerHeight(!0)), jQuery(".rating:not([disabled]) > input").click(function () {
    var a = docType + docUid, b = docCookies.hasItem("docStars") ? JSON.parse(docCookies.getItem("docStars")) : [];
    return jQuery.inArray(a, b) == -1 && (jQuery.jGrowl("Ваша оценка принята!"), jQuery(this).parent().attr("disabled", "disabled"), docRate(jQuery(this).val()), b.push(a), docCookies.setItem("docStars", JSON.stringify(b), 7776e3, "/"), void 0)
}), jQuery("#vk-community").length && VK.Widgets.Group("vk-community", {
    mode: 2,
    width: "auto",
    height: jQuery(".equal-h").height()
}, 65755507);
var _uf = _uf || {};
_uf.form_query_selector = ".secure-submit";
